{% extends "layout.html" %}
{% load static %}

{% block body %}
<h1>Catálogo de Aves</h1>

<div>
    {% for bird in birds %}
    <div>
        {% if bird.photo_set.first %}
            <img src="{{ bird.photo_set.first.image.url }}" alt="Foto de {{ bird.common_name }}">
        {% else %}
            <img src="{% static 'images/no_bird_photo.png' %}" alt="Sin foto disponible">
        {% endif %}
        <div>
            <h2>{{ bird.common_name }}</h2>
            <p>{{ bird.scientific_name }}</p>
            <a href="{% url 'bird_detail' bird.slug %}">Ver más</a>
        </div>
    </div>
    {% endfor %}
</div>

<!-- Paginación -->
<div>
    {% if birds.has_previous %}
        <a href="?page=1">« Primero</a>
        <a href="?page={{ birds.previous_page_number }}">‹ Anterior</a>
    {% endif %}

    <span>
        Página {{ birds.number }} de {{ birds.paginator.num_pages }}
    </span>

    {% if birds.has_next %}
        <a href="?page={{ birds.next_page_number }}">Siguiente ›</a>
        <a href="?page={{ birds.paginator.num_pages }}">Último »</a>
    {% endif %}
</div>
{% endblock %}
